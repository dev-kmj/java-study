# 📌 날짜와 시간 & 형식화
## 🏷 Calendar와 Date
`Calender` 클래스와 `Date` 클래스는 `Java.util` 패키지에 포함되어 있다.

  ```java
  Calendar cal = new Calendar();         // X
  Calendar cal = Calendar.getInstance(); // O
  ```
  - `Calendar` 클래스는 **추상 클래스로**, static 메서드인 `getInstacne()`를 통해서만 인스턴스를 얻을 수 있음.
  - `cal`은 현재 시스템의 날짜와 시간에 대한 정보를 담고 있음.
  - 시스템의 국가와 지역 설정을 확인해서 태국이면 `BuddhistCalendar`의 인스턴스를 반환하고, 그 외에는` GregorianCalendar`의 인스턴스를 반환

### Calendar와 Date간의 변환
```java
Calendar cal = Calendar.getInstance();
Date d = new Date(cal.getTimeInMillis());

// getTimeInMillis()는 시간을 밀리초(1/1000초) 단위로 반환
```

### Date를 Calendar로 변환
```java
Date d = new Date();
Calendar cal = Calendar.getInstance();
cal.setTime(d);
```

### Calendar 클래스의 get, set 메서드
- `get` 메서드 : 시간과 날짜 값을 얻고 싶을 때
  ```java
  // Calendar형 인스턴스 cal
  
  cal.get(Calendar.YEAR)
  cal.get(Calendar.MONTH)  // (0~11) 0: 1월, 11: 12월
  cal.get(Calendar.DATE)
  
  cal.get(Calendar.WEEK_OF_YEAR) 
  cal.get(Calendar.WEEK_OF_MONTH) 
  
  cal.get(Calendar.DAY_OF_YEAR) 
  cal.get(Calendar.DAY_OF_MONTH)
  cal.get(Calendar.DAY_OF_WEEK) // (1~7) 1: 일요일, 2: 월요일..
  cal.get(Calendar.DAY_OF_WEEK_IN_MONTH)
  
  cal.get(Calendar.AM_PM) // 0: 오전, 1: 오후
  cal.get(Calendar.HOUR) // 12
  cal.get(Calendar.HOUR_OF_DAY) // 24
  cal.get(Calendar.MINUTE)
  cal.get(Calendar.SECOND)
  cal.get(Calendar.MILLISECOND) // 0~999
  cal.get(Calendar.ZONE_OFFSET) // ~12~12
  cal.getActualMaximum(Calendar.DATE) // 이달의 마지막 날짜
  ```

- `set` 메서드 : 시간과 날짜 값을 설정하고 싶을 때
  ```java
  void set(int field, int value) // 지정한 field를 value값으로 설정
  void set(int year, int month, int date)
  void set(int year, int month, int date, int hourOfDay, int minute)
  void set(int year, int month, int date, int hourOfDay, int minute, int second)
  ```

### 시간 단위 변경
- 작은 단위 -> 큰 단위 : 단위만큼 나누기
- 큰 단위 -> 작은 단위 : 단위만큼 곱하기

### getTimeInMillis()로 얻은 값의 단위 변경
- 초단위 : `getTimeInMillis()` 메서드로 얻은 값 / 1000
- 분단위 : `getTimeInMillis()` 메서드로 얻은 값 / 1000 * 60(초)
- 시단위 : `getTimeInMillis()` 메서드로 얻은 값 / 1000 * 60(분) * 60(초)
- 일단위 : `getTimeInMillis()` 메서드로 얻은 값 / 1000 * 24(시간) * 60(분) * 60(초)

### 두 날짜간의 차이
- 두 날짜를 `getTimeInMillis()`로 얻어 차이를 구하고 원하는 단위로 변경한다.

### 초단위를 시,분,초로 변경
- 초단위 / 시단위(60(분)*60(초)) --> **몫이 시간 값**
- 나눈 나머지 / 분단위(60(초)) --> **몫이 분 값, 나머지가 초 값**

### field 값의 증가, 감소
```java
date.set(2024, 3, 18)

// 다른 필드에 영향을 줌
add(int field, int amount)  // 지정한 field의 값을 원하는 만큼 증가 또는 감소

// 일 필드의 증가로 월 필드가 영향을 받음
date.add(Calendar.DATE, 31)  // 2024, 4, 18

// 다른 필드에 영향을 주지 않음
roll(int field, int amount)  // 지정한 field의 값을 원하는 만큼 증가 또는 감소

date.roll(Calendar.DATE, 31)  // 2024, 3, 18
```

### 기타 메서드
```java
after(Object when)  // 시간상, 매개변수 when보다 이후일 때 true를 반환

before(Object when)  // 시간상, 매개변수 when보다 이전일 때 true를 반환

isLeapYear(int year)  // 매개변수 year가 윤년일 때 true를 반환

dayDiff(int y1, int m1, int dl, int y2, int m2, int d2)  // 두 날짜간의 차이를 일단위로 반환

getDayOfWeek(int year, int month, int day)  // 지정한 날짜의 요일을 반환. (1~7) 1: 일요일

convertDateToDay(int year, int month, int day)   // 년, 월, 일을 입력 받아서 일단위로 변환

convertDayToDate(int day)  // 일단위의 값을 년, 월, 일 형태의 문자열로 변환하여 반화나
```

## 🏷 날짜의 형식화
`java.text` 패키지의 `SimpleDateFormat` 클래스를 사용하여 날짜를 특정 패턴으로 형식화할 수 있다.

### Date 값을 특정 패턴의 String 값으로 변환
```java
Date today = new Date();
simpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
String result = sdf.format(today);
```

### String 값을 Date 인스턴스로 변환
```java
SimpleDateFormat sdf = new SimpleDateFormat("yyyy년 MM월 dd일");
Date d = sdf.parse("2024년 3월 18일");
```
